import api from '@beehive/api';
import { writable } from 'svelte/store';

function createHives() {
	const hives = writable(null, (set) => {
		api.findAll('hives')
		   .then(set)
		   .catch(error => {
			   console.error(error);
			   set(false);
		   });
	});

	return {
		subscribe: hives.subscribe,
	};
}

export const hives = createHives();