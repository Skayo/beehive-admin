<script>
	import { pop, push } from 'svelte-spa-router';
	// noinspection ES6UnusedImports
	import { fade } from 'svelte/transition';

	export let backgroundColor = '#fff';
	export let backLink = '/';
	export let logo = '';
	export let title = '';
	export let description = '';

	function back() {
		if (history.length > 2) {
			pop();
		} else {
			push(backLink);
		}
	}
</script>

<section class="header" style="background-color: {backgroundColor}">
	<div class="header-top">
		<button on:click={() => pop()} class="btn btn-outlined btn-outlined-inverted btn-icon">
			<svg height="20" width="20" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
				<path fill-rule="evenodd" d="M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z" clip-rule="evenodd" />
			</svg>
			<span class="pl-1">Back</span>
		</button>

		<slot name="top"></slot>
	</div>

	<div class="header-content space-y-6" in:fade>
		{#if logo}
			<img class="header-logo" src={logo} alt="Logo" />
		{/if}

		{#if title}
			<h1 class="header-title">{title}</h1>
		{/if}

		{#if description}
			<p class="header-description">{description}</p>
		{/if}

		<slot name="content"></slot>
	</div>
</section>

<style>
	.header {
		@apply pb-8 w-full flex flex-col justify-center items-center shadow-lg text-white text-center transition-colors duration-300;
	}

	.header-top {
		@apply w-full h-16 px-10 flex flex-wrap justify-between items-center;
	}

	.header-content {
		@apply px-10 inline-flex flex-col items-center;
	}

	.header-logo {
		@apply block m-auto max-h-28;
	}

	.header-title {
		@apply text-5xl font-bold;
	}

	.header-description {
		@apply text-gray-100;
	}
</style>